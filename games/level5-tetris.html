<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- –£–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫—É –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤ -->
    <meta charset="UTF-8">
    <!-- –î–µ–ª–∞–µ–º —Å–∞–π—Ç —É–¥–æ–±–Ω—ã–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ -->
    <title>üß© –£—Ä–æ–≤–µ–Ω—å 5: –ú–∏–Ω–∏ –¢–µ—Ç—Ä–∏—Å</title>
    
    <!-- üé® –í–°–¢–†–û–ï–ù–ù–´–ï –°–¢–ò–õ–ò CSS -->
    <style>
        /* === –°–ë–†–û–° –°–¢–ê–ù–î–ê–†–¢–ù–´–• –°–¢–ò–õ–ï–ô === */
        * {
            margin: 0;              /* —É–±–∏—Ä–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            padding: 0;             /* —É–±–∏—Ä–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            box-sizing: border-box; /* —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–∫–ª—é—á–∞—é—Ç –≥—Ä–∞–Ω–∏—Ü—ã –∏ –æ—Ç—Å—Ç—É–ø—ã */
        }

        /* === –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò –°–¢–†–ê–ù–ò–¶–´ === */
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;  /* –¥–µ—Ç—Å–∫–∏–π —à—Ä–∏—Ñ—Ç */
            background: linear-gradient(45deg, #1e3c72, #2a5298, #1e3c72, #2a5298);  /* —Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            background-size: 400% 400%;     /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
            min-height: 100vh;              /* –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ = –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
            display: flex;                  /* –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–ª–µ–∫—Å–±–æ–∫—Å */
            align-items: center;            /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
            justify-content: center;        /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ */
            color: white;                   /* –±–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
            animation: gradientMove 15s ease infinite;  /* –∞–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ */
            padding: 10px;                  /* –æ—Ç—Å—Ç—É–ø—ã –æ—Ç –∫—Ä–∞–µ–≤ */
        }

        /* === –ê–ù–ò–ú–ê–¶–ò–Ø –î–í–ò–ñ–ï–ù–ò–Ø –§–û–ù–ê === */
        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* === –ö–ù–û–ü–ö–ê –í–û–ó–í–†–ê–¢–ê –î–û–ú–û–ô === */
        .home-button {
            position: fixed;        /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è */
            top: 20px;              /* –æ—Ç—Å—Ç—É–ø –æ—Ç –≤–µ—Ä—Ö–∞ */
            left: 20px;             /* –æ—Ç—Å—Ç—É–ø –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è */
            width: 60px;            /* —à–∏—Ä–∏–Ω–∞ */
            height: 60px;           /* –≤—ã—Å–æ—Ç–∞ */
            border: none;           /* —É–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É */
            border-radius: 50%;     /* –¥–µ–ª–∞–µ–º –∫—Ä—É–≥–ª–æ–π */
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);  /* –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            color: white;           /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
            font-size: 1.5em;       /* —Ä–∞–∑–º–µ—Ä —ç–º–æ–¥–∑–∏ */
            cursor: pointer;        /* –∫—É—Ä—Å–æ—Ä-—É–∫–∞–∑–∞—Ç–µ–ª—å */
            transition: all 0.3s ease;  /* –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);  /* —Ç–µ–Ω—å */
            z-index: 1000;          /* –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        }

        .home-button:hover {
            transform: scale(1.1) rotate(360deg);  /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º */
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.5);  /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–µ–Ω—å */
        }

        /* === –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –ò–ì–†–´ === */
        .game-wrapper {
            display: flex;          /* —Ñ–ª–µ–∫—Å–±–æ–∫—Å –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π */
            gap: 30px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏ */
            align-items: flex-start; /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ –≤–µ—Ä—Ö—É */
            flex-wrap: wrap;        /* –ø–µ—Ä–µ–Ω–æ—Å–∏–º –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            justify-content: center; /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
        }

        /* === –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ (–ò–ù–§–û–†–ú–ê–¶–ò–Ø –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï) === */
        .left-panel {
            display: flex;          /* —Ñ–ª–µ–∫—Å–±–æ–∫—Å –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
            flex-direction: column; /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
            gap: 20px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ */
            min-width: 250px;       /* –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏ */
        }

        /* === –ë–õ–û–ö –ò–ù–§–û–†–ú–ê–¶–ò–ò === */
        .info-block {
            background: rgba(255, 255, 255, 0.1);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            border-radius: 15px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            padding: 20px;          /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            backdrop-filter: blur(15px);  /* —Ä–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);  /* —Ç–µ–Ω—å */
            border: 2px solid rgba(255, 255, 255, 0.2);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
        }

        .info-title {
            font-size: 1.3em;       /* —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            color: #FFD700;         /* –∑–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
            margin-bottom: 15px;    /* –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);  /* —Ç–µ–Ω—å */
        }

        /* === –°–ß–ï–¢–ß–ò–ö–ò === */
        .score-grid {
            display: grid;          /* CSS Grid –¥–ª—è —Å—á–µ—Ç—á–∏–∫–æ–≤ */
            grid-template-columns: 1fr 1fr;  /* –¥–≤–µ —Ä–∞–≤–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ */
            gap: 15px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
        }

        .score-item {
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
            background: rgba(255, 255, 255, 0.05);  /* –æ—á–µ–Ω—å —Å–ª–∞–±—ã–π —Ñ–æ–Ω */
            border-radius: 10px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            padding: 10px;          /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
        }

        .score-label {
            display: block;         /* –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
            font-size: 0.9em;       /* —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            color: rgba(255, 255, 255, 0.7);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π */
            margin-bottom: 5px;     /* –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
        }

        .score-value {
            display: block;         /* –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
            font-size: 1.5em;       /* –∫—Ä—É–ø–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
            font-weight: bold;      /* –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            color: white;           /* –±–µ–ª—ã–π —Ü–≤–µ—Ç */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);  /* —Ç–µ–Ω—å */
        }

        /* === –¶–í–ï–¢–û–í–û–ï –ö–û–î–ò–†–û–í–ê–ù–ò–ï –°–ß–ï–¢–ß–ò–ö–û–í === */
        .score-value.score { color: #4CAF50; }      /* –∑–µ–ª–µ–Ω—ã–π –¥–ª—è –æ—á–∫–æ–≤ */
        .score-value.lines { color: #2196F3; }      /* —Å–∏–Ω–∏–π –¥–ª—è –ª–∏–Ω–∏–π */
        .score-value.level { color: #FF9800; }      /* –æ—Ä–∞–Ω–∂–µ–≤—ã–π –¥–ª—è —É—Ä–æ–≤–Ω—è */
        .score-value.record { color: #FFD700; }     /* –∑–æ–ª–æ—Ç–æ–π –¥–ª—è —Ä–µ–∫–æ—Ä–¥–∞ */

        /* === –ü–†–ï–í–¨–Æ –°–õ–ï–î–£–Æ–©–ï–ô –§–ò–ì–£–†–´ === */
        .next-piece-preview {
            width: 80px;            /* —à–∏—Ä–∏–Ω–∞ –ø—Ä–µ–≤—å—é */
            height: 80px;           /* –≤—ã—Å–æ—Ç–∞ –ø—Ä–µ–≤—å—é */
            margin: 15px auto;      /* –æ—Ç—Å—Ç—É–ø—ã –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
            border: 2px solid rgba(255, 255, 255, 0.3);  /* –≥—Ä–∞–Ω–∏—Ü–∞ */
            border-radius: 8px;     /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background: rgba(0, 0, 0, 0.3);  /* —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω */
        }

        /* === –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ (–ò–ì–†–û–í–û–ï –ü–û–õ–ï) === */
        .game-container {
            background: rgba(255, 255, 255, 0.1);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            border-radius: 20px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            padding: 25px;          /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            backdrop-filter: blur(15px);  /* —Ä–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);  /* –∫—Ä–∞—Å–∏–≤–∞—è —Ç–µ–Ω—å */
            border: 3px solid rgba(255, 255, 255, 0.3);  /* –≥—Ä–∞–Ω–∏—Ü–∞ */
        }

        .game-title {
            font-size: 2.8em;       /* —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
            color: #FFD700;         /* –∑–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
            margin-bottom: 20px;    /* –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);  /* —Ç–µ–Ω—å */
            animation: titlePulse 3s ease-in-out infinite;  /* –∞–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ */
        }

        /* === –ê–ù–ò–ú–ê–¶–ò–Ø –ü–£–õ–¨–°–ê–¶–ò–ò –ó–ê–ì–û–õ–û–í–ö–ê === */
        @keyframes titlePulse {
            0%, 100% { transform: scale(1); color: #FFD700; }
            50% { transform: scale(1.05); color: #FFA500; }
        }

        /* === –•–û–õ–°–¢ –î–õ–Ø –†–ò–°–û–í–ê–ù–ò–Ø –ò–ì–†–´ === */
        #gameCanvas {
            border: 3px solid #FFD700;  /* –∑–æ–ª–æ—Ç–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —Ö–æ–ª—Å—Ç–∞ */
            border-radius: 10px;    /* —Å–ª–µ–≥–∫–∞ —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background: #000;       /* —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω —Ö–æ–ª—Å—Ç–∞ */
            display: block;         /* –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.8),    /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω—å */
                0 10px 20px rgba(0, 0, 0, 0.3);       /* –≤–Ω–µ—à–Ω—è—è —Ç–µ–Ω—å */
        }

        /* === –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ (–£–ü–†–ê–í–õ–ï–ù–ò–ï) === */
        .controls-panel {
            display: flex;          /* —Ñ–ª–µ–∫—Å–±–æ–∫—Å –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
            flex-direction: column; /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
            gap: 20px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ */
            min-width: 250px;       /* –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏ */
        }

        /* === –ë–õ–û–ö –£–ü–†–ê–í–õ–ï–ù–ò–Ø === */
        .controls-block {
            background: rgba(255, 255, 255, 0.1);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            border-radius: 15px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            padding: 20px;          /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            backdrop-filter: blur(15px);  /* —Ä–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);  /* —Ç–µ–Ω—å */
            border: 2px solid rgba(255, 255, 255, 0.2);  /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
        }

        .controls-title {
            font-size: 1.3em;       /* —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            color: #FFD700;         /* –∑–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
            margin-bottom: 15px;    /* –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
        }

        /* === –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø === */
        .control-buttons {
            display: grid;          /* —Å–µ—Ç–∫–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
            grid-template-areas:    /* –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±–ª–∞—Å—Ç–∏ —Å–µ—Ç–∫–∏ */
                ". rotate ."
                "left down right"
                ". drop .";
            grid-template-columns: 1fr 1fr 1fr;  /* —Ç—Ä–∏ —Ä–∞–≤–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ */
            gap: 10px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
            margin-bottom: 20px;    /* –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
        }

        .control-button {
            width: 60px;            /* —à–∏—Ä–∏–Ω–∞ –∫–Ω–æ–ø–∫–∏ */
            height: 60px;           /* –≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ */
            border: none;           /* —É–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É */
            border-radius: 12px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background: linear-gradient(45deg, #4CAF50, #8BC34A);  /* –∑–µ–ª–µ–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            color: white;           /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
            font-size: 1.8em;       /* —Ä–∞–∑–º–µ—Ä —Å–∏–º–≤–æ–ª–∞ */
            cursor: pointer;        /* –∫—É—Ä—Å–æ—Ä-—É–∫–∞–∑–∞—Ç–µ–ª—å */
            transition: all 0.2s ease;  /* –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
            box-shadow: 0 5px 10px rgba(76, 175, 80, 0.3);  /* —Ç–µ–Ω—å */
            user-select: none;      /* –∑–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
            font-family: inherit;   /* –Ω–∞—Å–ª–µ–¥—É–µ–º —à—Ä–∏—Ñ—Ç */
        }

        /* === –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–ï –ö–ù–û–ü–û–ö === */
        .control-button.rotate { 
            grid-area: rotate; 
            background: linear-gradient(45deg, #9C27B0, #E91E63);  /* —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ */
        }
        .control-button.left { grid-area: left; }
        .control-button.down { grid-area: down; }
        .control-button.right { grid-area: right; }
        .control-button.drop { 
            grid-area: drop; 
            background: linear-gradient(45deg, #FF5722, #FF9800);  /* –æ—Ä–∞–Ω–∂–µ–≤—ã–π –¥–ª—è —Å–±—Ä–æ—Å–∞ */
        }

        /* === –≠–§–§–ï–ö–¢–´ –î–õÔøΩ—è –ö–ù–û–ü–û–ö === */
        .control-button:hover {
            transform: scale(1.1) translateY(-2px);  /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏ –ø–æ–¥–Ω–∏–º–∞–µ–º */
            box-shadow: 0 8px 15px rgba(76, 175, 80, 0.4);  /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–µ–Ω—å */
        }

        .control-button:active {
            transform: scale(0.95);  /* —É–º–µ–Ω—å—à–∞–µ–º –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
            box-shadow: 0 3px 6px rgba(76, 175, 80, 0.3);  /* —É–º–µ–Ω—å—à–∞–µ–º —Ç–µ–Ω—å */
        }

        /* === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ö–ù–û–ü–ö–ò === */
        .action-buttons {
            display: flex;          /* —Ñ–ª–µ–∫—Å–±–æ–∫—Å –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
            flex-direction: column; /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
            gap: 12px;              /* –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
        }

        .action-button {
            padding: 12px 20px;     /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            border: none;           /* —É–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É */
            border-radius: 20px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background: linear-gradient(45deg, #2196F3, #21CBF3);  /* —Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            color: white;           /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
            font-size: 1em;         /* —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            cursor: pointer;        /* –∫—É—Ä—Å–æ—Ä-—É–∫–∞–∑–∞—Ç–µ–ª—å */
            transition: all 0.3s ease;  /* –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
            box-shadow: 0 5px 10px rgba(33, 150, 243, 0.3);  /* —Ç–µ–Ω—å */
            font-family: inherit;   /* –Ω–∞—Å–ª–µ–¥—É–µ–º —à—Ä–∏—Ñ—Ç */
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
        }

        .action-button:hover {
            transform: translateY(-2px);  /* –ø–æ–¥–Ω–∏–º–∞–µ–º –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            box-shadow: 0 8px 15px rgba(33, 150, 243, 0.4);  /* —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–µ–Ω—å */
        }

        .action-button.pause {
            background: linear-gradient(45deg, #FF9800, #FFB74D);  /* –æ—Ä–∞–Ω–∂–µ–≤—ã–π –¥–ª—è –ø–∞—É–∑—ã */
        }

        .action-button.restart {
            background: linear-gradient(45deg, #f44336, #FF5722);  /* –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è —Ä–µ—Å—Ç–∞—Ä—Ç–∞ */
        }

        /* === –°–û–û–ë–©–ï–ù–ò–Ø –ò–ì–†–´ === */
        .message {
            position: fixed;        /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è */
            top: 50%;               /* –ø–æ —Ü–µ–Ω—Ç—Ä—É –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
            left: 50%;              /* –ø–æ —Ü–µ–Ω—Ç—Ä—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ */
            transform: translate(-50%, -50%);  /* —Ç–æ—á–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
            background: rgba(0, 0, 0, 0.95);  /* –ø–æ—á—Ç–∏ —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω */
            color: white;           /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
            padding: 40px 50px;     /* –±–æ–ª—å—à–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            border-radius: 20px;    /* —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            font-size: 1.4em;       /* —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            text-align: center;     /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
            z-index: 2000;          /* –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
            backdrop-filter: blur(20px);  /* —Å–∏–ª—å–Ω–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);  /* –±–æ–ª—å—à–∞—è —Ç–µ–Ω—å */
            animation: messageGlow 0.6s ease-out;  /* –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
            max-width: 90%;         /* –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            white-space: pre-line;  /* —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ */
            border: 3px solid #FFD700;  /* –∑–æ–ª–æ—Ç–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
        }

        @keyframes messageGlow {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5) rotate(5deg);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
        }

        /* === –ò–ù–î–ò–ö–ê–¢–û–† –ü–ê–£–ó–´ === */
        .pause-indicator {
            position: fixed;
            top: 120px;
            right: 30px;
            background: rgba(255, 152, 0, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.3em;
            font-weight: bold;
            z-index: 1500;
            animation: pauseFloat 2s ease-in-out infinite alternate;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        @keyframes pauseFloat {
            from { transform: translateY(0px); opacity: 0.8; }
            to { transform: translateY(-10px); opacity: 1; }
        }

        /* === –ê–î–ê–ü–¢–ò–í–ù–´–ô –î–ò–ó–ê–ô–ù –î–õ–Ø –ü–õ–ê–ù–®–ï–¢–û–í === */
        @media (max-width: 1024px) {
            .game-wrapper {
                gap: 20px;          /* –º–µ–Ω—å—à–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤ */
            }
            
            .left-panel, .controls-panel {
                min-width: 200px;   /* –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            }
            
            .game-title {
                font-size: 2.2em;   /* –º–µ–Ω—å—à–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            }
        }

        /* === –ê–î–ê–ü–¢–ò–í–ù–´–ô –î–ò–ó–ê–ô–ù –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• === */
        @media (max-width: 768px) {
            body {
                padding: 5px;       /* –º–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø–æ–≤ */
            }
            
            .game-wrapper {
                flex-direction: column;  /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ */
                gap: 15px;
            }
            
            .left-panel, .controls-panel {
                min-width: auto;    /* —É–±–∏—Ä–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É */
                width: 100%;        /* –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
                max-width: 400px;   /* –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
                margin: 0 auto;     /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º */
            }
            
            .game-title {
                font-size: 1.8em;   /* –µ—â–µ –º–µ–Ω—å—à–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            }
            
            #gameCanvas {
                width: 300px !important;  /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
                height: 600px !important;
            }
            
            .control-button {
                width: 50px;        /* –º–µ–Ω—å—à–µ –∫–Ω–æ–ø–∫–∏ */
                height: 50px;
                font-size: 1.5em;
            }
            
            .score-grid {
                grid-template-columns: 1fr 1fr 1fr 1fr;  /* —á–µ—Ç—ã—Ä–µ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .game-title {
                font-size: 1.5em;   /* —Å–æ–≤—Å–µ–º –º–∞–ª–µ–Ω—å–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            }
            
            #gameCanvas {
                width: 250px !important;
                height: 500px !important;
            }
            
            .info-block, .controls-block {
                padding: 15px;      /* –º–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø–æ–≤ */
            }
        }
    </style>
</head>
<body>
    <!-- –ö–ù–û–ü–ö–ê –í–û–ó–í–†–ê–¢–ê –ù–ê –ì–õ–ê–í–ù–£–Æ –°–¢–†–ê–ù–ò–¶–£ -->
    <button class="home-button" onclick="location.href='../index.html'" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é">üè†</button>

    <!-- –ò–ù–î–ò–ö–ê–¢–û–† –ü–ê–£–ó–´ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div class="pause-indicator" id="pauseIndicator" style="display: none;">
        ‚è∏Ô∏è –ò–ì–†–ê –ù–ê –ü–ê–£–ó–ï
    </div>

    <!-- –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –ò–ì–†–´ -->
    <div class="game-wrapper">
        
        <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨: –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <div class="left-panel">
            
            <!-- –ë–õ–û–ö –°–ß–ï–¢–ê -->
            <div class="info-block">
                <div class="info-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                <div class="score-grid">
                    <div class="score-item">
                        <span class="score-label">üèÜ –û—á–∫–∏</span>
                        <span class="score-value score" id="scoreValue">0</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">üìè –õ–∏–Ω–∏–∏</span>
                        <span class="score-value lines" id="linesValue">0</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">üì∂ –£—Ä–æ–≤–µ–Ω—å</span>
                        <span class="score-value level" id="levelValue">1</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">ü•á –†–µ–∫–æ—Ä–¥</span>
                        <span class="score-value record" id="recordValue">0</span>
                    </div>
                </div>
            </div>
            
            <!-- –ë–õ–û–ö –°–õ–ï–î–£–Æ–©–ï–ô –§–ò–ì–£–†–´ -->
            <div class="info-block">
                <div class="info-title">üîÆ –°–ª–µ–¥—É—é—â–∞—è —Ñ–∏–≥—É—Ä–∞</div>
                <canvas class="next-piece-preview" id="nextPieceCanvas" width="80" height="80"></canvas>
            </div>
            
            <!-- –ë–õ–û–ö –ò–ù–°–¢–†–£–ö–¶–ò–ô -->
            <div class="info-block">
                <div class="info-title">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</div>
                <div style="font-size: 0.9em; line-height: 1.4; color: rgba(255, 255, 255, 0.8);">
                    ‚Ä¢ –°–æ–±–∏—Ä–∞–π –ø–æ–ª–Ω—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏<br>
                    ‚Ä¢ –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–π —Ñ–∏–≥—É—Ä—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è<br>
                    ‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å —É—Ä–æ–≤–Ω–µ–º<br>
                    ‚Ä¢ –ù–µ –¥–∞–π –±–ª–æ–∫–∞–º –¥–æ—Å—Ç–∏—á—å –≤–µ—Ä—Ö–∞!
                </div>
            </div>
        </div>
        
        <!-- –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨: –ò–ì–†–û–í–û–ï –ü–û–õ–ï -->
        <div class="game-container">
            <h1 class="game-title">üß© –ú–∏–Ω–∏ –¢–µ—Ç—Ä–∏—Å</h1>
            <canvas id="gameCanvas" width="300" height="600"></canvas>
        </div>
        
        <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨: –£–ü–†–ê–í–õ–ï–ù–ò–ï -->
        <div class="controls-panel">
            
            <!-- –ë–õ–û–ö –ö–ù–û–ü–û–ö –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
            <div class="controls-block">
                <div class="controls-title">üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                
                <!-- –ö–ù–û–ü–ö–ò –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ô -->
                <div class="control-buttons">
                    <button class="control-button rotate" onclick="rotatePiece()" title="–ü–æ–≤–æ—Ä–æ—Ç (‚Üë –∏–ª–∏ X)">üîÑ</button>
                    <button class="control-button left" onclick="movePiece(-1, 0)" title="–í–ª–µ–≤–æ (‚Üê –∏–ª–∏ A)">‚Üê</button>
                    <button class="control-button down" onclick="movePiece(0, 1)" title="–í–Ω–∏–∑ (‚Üì –∏–ª–∏ S)">‚Üì</button>
                    <button class="control-button right" onclick="movePiece(1, 0)" title="–í–ø—Ä–∞–≤–æ (‚Üí –∏–ª–∏ D)">‚Üí</button>
                    <button class="control-button drop" onclick="dropPiece()" title="–°–±—Ä–æ—Å (–ü—Ä–æ–±–µ–ª)">‚¨á</button>
                </div>
                
                <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.7); text-align: center;">
                    –°—Ç—Ä–µ–ª–∫–∏ –∏–ª–∏ WASD –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è<br>
                    X –∏–ª–∏ ‚Üë –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ ‚Ä¢ –ü—Ä–æ–±–µ–ª –¥–ª—è —Å–±—Ä–æ—Å–∞
                </div>
            </div>
            
            <!-- –ë–õ–û–ö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–• –î–ï–ô–°–¢–í–ò–ô -->
            <div class="controls-block">
                <div class="controls-title">‚öôÔ∏è –î–µ–π—Å—Ç–≤–∏—è</div>
                
                <div class="action-buttons">
                    <button class="action-button pause" onclick="togglePause()">‚è∏Ô∏è –ü–∞—É–∑–∞ / –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    <button class="action-button restart" onclick="restartGame()">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                    <button class="action-button" onclick="showInstructions()">‚ùì –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</button>
                </div>
            </div>
            
            <!-- –ë–õ–û–ö –ù–ê–°–¢–†–û–ï–ö -->
            <div class="controls-block">
                <div class="controls-title">üéµ –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞</div>
                
                <div style="font-size: 0.9em; line-height: 1.4; color: rgba(255, 255, 255, 0.8); text-align: center;">
                    üé® –ö—Ä–∞—Å–æ—á–Ω—ã–µ —Ñ–∏–≥—É—Ä—ã<br>
                    ‚ú® –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏<br>
                    üéä –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –ª–∏–Ω–∏–π<br>
                    üèÜ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤
                </div>
            </div>
        </div>
    </div>

    <!-- üöÄ JAVASCRIPT - –õ–û–ì–ò–ö–ê –ò–ì–†–´ -->
    <script>
        // === –ü–û–õ–£–ß–ï–ù–ò–ï –≠–õ–ï–ú–ï–ù–¢–û–í ===
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');  // –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è 2D
        const nextCanvas = document.getElementById('nextPieceCanvas');
        const nextCtx = nextCanvas.getContext('2d');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const scoreElement = document.getElementById('scoreValue');
        const linesElement = document.getElementById('linesValue');
        const levelElement = document.getElementById('levelValue');
        const recordElement = document.getElementById('recordValue');
        const pauseIndicator = document.getElementById('pauseIndicator');

        // === –ö–û–ù–°–¢–ê–ù–¢–´ –ò–ì–†–´ ===
        const BLOCK_SIZE = 30;      // —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
        const BOARD_WIDTH = 10;     // —à–∏—Ä–∏–Ω–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –±–ª–æ–∫–∞—Ö
        const BOARD_HEIGHT = 20;    // –≤—ã—Å–æ—Ç–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –±–ª–æ–∫–∞—Ö

        // === –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –§–ò–ì–£–† (–¢–ï–¢–†–û–ú–ò–ù–û) ===
        // –ö–∞–∂–¥–∞—è —Ñ–∏–≥—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ –º–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –±–ª–æ–∫–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞
        const PIECES = [
            // I-—Ñ–∏–≥—É—Ä–∞ (–ø–∞–ª–∫–∞)
            {
                shape: [
                    [0, 1], [1, 1], [2, 1], [3, 1]  // –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                ],
                color: '#00FFFF',  // –≥–æ–ª—É–±–æ–π
                name: 'I'
            },
            // O-—Ñ–∏–≥—É—Ä–∞ (–∫–≤–∞–¥—Ä–∞—Ç)
            {
                shape: [
                    [1, 0], [2, 0], [1, 1], [2, 1]  // –∫–≤–∞–¥—Ä–∞—Ç 2x2
                ],
                color: '#FFFF00',  // –∂–µ–ª—Ç—ã–π
                name: 'O'
            },
            // T-—Ñ–∏–≥—É—Ä–∞
            {
                shape: [
                    [1, 0], [0, 1], [1, 1], [2, 1]  // T-–æ–±—Ä–∞–∑–Ω–∞—è
                ],
                color: '#800080',  // —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
                name: 'T'
            },
            // S-—Ñ–∏–≥—É—Ä–∞
            {
                shape: [
                    [1, 0], [2, 0], [0, 1], [1, 1]  // S-–æ–±—Ä–∞–∑–Ω–∞—è
                ],
                color: '#00FF00',  // –∑–µ–ª–µ–Ω—ã–π
                name: 'S'
            },
            // Z-—Ñ–∏–≥—É—Ä–∞
            {
                shape: [
                    [0, 0], [1, 0], [1, 1], [2, 1]  // Z-–æ–±—Ä–∞–∑–Ω–∞—è
                ],
                color: '#FF0000',  // –∫—Ä–∞—Å–Ω—ã–π
                name: 'Z'
            },
            // J-—Ñ–∏–≥—É—Ä–∞
            {
                shape: [
                    [0, 0], [0, 1], [1, 1], [2, 1]  // J-–æ–±—Ä–∞–∑–Ω–∞—è
                ],
                color: '#0000FF',  // —Å–∏–Ω–∏–π
                name: 'J'
            },
            // L-—Ñ–∏–≥—É—Ä–∞
            {
                shape: [
                    [2, 0], [0, 1], [1, 1], [2, 1]  // L-–æ–±—Ä–∞–∑–Ω–∞—è
                ],
                color: '#FFA500',  // –æ—Ä–∞–Ω–∂–µ–≤—ã–π
                name: 'L'
            }
        ];

        // === –ü–ï–†–ï–ú–ï–ù–ù–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø –ò–ì–†–´ ===
        let gameBoard = [];              // –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
        let currentPiece = null;         // —Ç–µ–∫—É—â–∞—è –ø–∞–¥–∞—é—â–∞—è —Ñ–∏–≥—É—Ä–∞
        let nextPiece = null;            // —Å–ª–µ–¥—É—é—â–∞—è —Ñ–∏–≥—É—Ä–∞
        let gameRunning = false;         // –∑–∞–ø—É—â–µ–Ω–∞ –ª–∏ –∏–≥—Ä–∞
        let isPaused = false;            // –Ω–∞ –ø–∞—É–∑–µ –ª–∏ –∏–≥—Ä–∞
        let gameLoop = null;             // –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
        
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã
        let score = 0;                   // —Ç–µ–∫—É—â–∏–µ –æ—á–∫–∏
        let linesCleared = 0;            // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–±—Ä–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π
        let level = 1;                   // —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
        let dropSpeed = 800;             // —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è —Ñ–∏–≥—É—Ä (–º—Å)
        
        // –ü–æ–∑–∏—Ü–∏—è —Ç–µ–∫—É—â–µ–π —Ñ–∏–≥—É—Ä—ã
        let pieceX = 0;                  // X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ñ–∏–≥—É—Ä—ã
        let pieceY = 0;                  // Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ñ–∏–≥—É—Ä—ã
        let pieceRotation = 0;           // –ø–æ–≤–æ—Ä–æ—Ç —Ñ–∏–≥—É—Ä—ã (0, 90, 180, 270 –≥—Ä–∞–¥—É—Å–æ–≤)

        // === –ó–ê–ì–†–£–ó–ö–ê –†–ï–ö–û–†–î–ê ===
        let highScore = parseInt(localStorage.getItem('tetrisHighScore')) || 0;
        recordElement.textContent = highScore;

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ì–†–û–í–û–ì–û –ü–û–õ–Ø ===
        function initBoard() {
            gameBoard = [];
            // –°–æ–∑–¥–∞–µ–º –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ω—É–ª—è–º–∏ (–ø—É—Å—Ç—ã–µ –∫–ª–µ—Ç–∫–∏)
            for (let y = 0; y < BOARD_HEIGHT; y++) {
                gameBoard[y] = [];
                for (let x = 0; x < BOARD_WIDTH; x++) {
                    gameBoard[y][x] = 0;  // 0 = –ø—É—Å—Ç–∞—è –∫–ª–µ—Ç–∫–∞
                }
            }
            console.log('üéÆ –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
        }

        // === –ì–ï–ù–ï–†–ê–¶–ò–Ø –°–õ–£–ß–ê–ô–ù–û–ô –§–ò–ì–£–†–´ ===
        function generateRandomPiece() {
            const randomIndex = Math.floor(Math.random() * PIECES.length);
            const pieceTemplate = PIECES[randomIndex];
            
            // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é —Ñ–∏–≥—É—Ä—ã
            const piece = {
                shape: [...pieceTemplate.shape],  // –∫–æ–ø–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
                color: pieceTemplate.color,
                name: pieceTemplate.name
            };
            
            console.log(`üß© –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Ñ–∏–≥—É—Ä–∞: ${piece.name}`);
            return piece;
        }

        // === –°–ü–ê–í–ù –ù–û–í–û–ô –§–ò–ì–£–†–´ ===
        function spawnNewPiece() {
            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∏–≥—É—Ä—ã, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–≤–µ
            if (!nextPiece) {
                currentPiece = generateRandomPiece();
                nextPiece = generateRandomPiece();
            } else {
                // –ë–µ—Ä–µ–º —Å–ª–µ–¥—É—é—â—É—é —Ñ–∏–≥—É—Ä—É –∫–∞–∫ —Ç–µ–∫—É—â—É—é
                currentPiece = nextPiece;
                nextPiece = generateRandomPiece();
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é (—Ü–µ–Ω—Ç—Ä –≤–µ—Ä—Ö–∞ –ø–æ–ª—è)
            pieceX = Math.floor(BOARD_WIDTH / 2) - 1;
            pieceY = 0;
            pieceRotation = 0;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ–º –ª–∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ñ–∏–≥—É—Ä—É (–∏–≥—Ä–∞ –Ω–µ –æ–∫–æ–Ω—á–µ–Ω–∞)
            if (!isValidPosition(currentPiece, pieceX, pieceY, pieceRotation)) {
                gameOver();
                return false;
            }
            
            // –†–∏—Å—É–µ–º –ø—Ä–µ–≤—å—é —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∏–≥—É—Ä—ã
            drawNextPiece();
            
            console.log(`üìç –ù–æ–≤–∞—è —Ñ–∏–≥—É—Ä–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤ –ø–æ–∑–∏—Ü–∏–∏ (${pieceX}, ${pieceY})`);
            return true;
        }

        // === –ü–†–û–í–ï–†–ö–ê –í–ê–õ–ò–î–ù–û–°–¢–ò –ü–û–ó–ò–¶–ò–ò ===
        function isValidPosition(piece, x, y, rotation) {
            const rotatedShape = getRotatedShape(piece.shape, rotation);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –±–ª–æ–∫ —Ñ–∏–≥—É—Ä—ã
            for (const [blockX, blockY] of rotatedShape) {
                const newX = x + blockX;
                const newY = y + blockY;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø–æ–ª—è
                if (newX < 0 || newX >= BOARD_WIDTH || newY >= BOARD_HEIGHT) {
                    return false;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –±–ª–æ–∫–∞–º–∏ (–Ω–æ –Ω–µ —Å –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π)
                if (newY >= 0 && gameBoard[newY][newX] !== 0) {
                    return false;
                }
            }
            
            return true;
        }

        // === –ü–û–í–û–†–û–¢ –§–ò–ì–£–†–´ ===
        function getRotatedShape(shape, rotation) {
            if (rotation === 0) {
                return shape;  // –±–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–∞
            }
            
            let rotatedShape = [...shape];
            const rotations = rotation / 90;  // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤ –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–≤–æ—Ä–æ—Ç –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑
            for (let i = 0; i < rotations; i++) {
                rotatedShape = rotatedShape.map(([x, y]) => [-y, x]);  // –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ
            }
            
            return rotatedShape;
        }

        // === –î–í–ò–ñ–ï–ù–ò–ï –§–ò–ì–£–†–´ ===
        function movePiece(dx, dy) {
            if (!gameRunning || isPaused || !currentPiece) return;
            
            const newX = pieceX + dx;
            const newY = pieceY + dy;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ–º –ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∏–≥—É—Ä—É
            if (isValidPosition(currentPiece, newX, newY, pieceRotation)) {
                pieceX = newX;
                pieceY = newY;
                console.log(`üîÑ –§–∏–≥—É—Ä–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ (${pieceX}, ${pieceY})`);
                return true;
            }
            
            return false;
        }

        // === –ü–û–í–û–†–û–¢ –§–ò–ì–£–†–´ ===
        function rotatePiece() {
            if (!gameRunning || isPaused || !currentPiece) return;
            
            const newRotation = (pieceRotation + 90) % 360;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ–º –ª–∏ –ø–æ–≤–µ—Ä–Ω—É—Ç—å —Ñ–∏–≥—É—Ä—É
            if (isValidPosition(currentPiece, pieceX, pieceY, newRotation)) {
                pieceRotation = newRotation;
                console.log(`üîÑ –§–∏–≥—É—Ä–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∞ –Ω–∞ ${pieceRotation} –≥—Ä–∞–¥—É—Å–æ–≤`);
                return true;
            }
            
            // –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –ø–æ–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –º–µ—Å—Ç–µ, –ø—Ä–æ–±—É–µ–º —Å–¥–≤–∏–Ω—É—Ç—å
            for (let offset = 1; offset <= 2; offset++) {
                // –ü—Ä–æ–±—É–µ–º —Å–¥–≤–∏–Ω—É—Ç—å –≤–ª–µ–≤–æ
                if (isValidPosition(currentPiece, pieceX - offset, pieceY, newRotation)) {
                    pieceX -= offset;
                    pieceRotation = newRotation;
                    console.log(`üîÑ –§–∏–≥—É—Ä–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∞ —Å–æ —Å–¥–≤–∏–≥–æ–º –≤–ª–µ–≤–æ –Ω–∞ ${offset}`);
                    return true;
                }
                
                // –ü—Ä–æ–±—É–µ–º —Å–¥–≤–∏–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ
                if (isValidPosition(currentPiece, pieceX + offset, pieceY, newRotation)) {
                    pieceX += offset;
                    pieceRotation = newRotation;
                    console.log(`üîÑ –§–∏–≥—É—Ä–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∞ —Å–æ —Å–¥–≤–∏–≥–æ–º –≤–ø—Ä–∞–≤–æ –Ω–∞ ${offset}`);
                    return true;
                }
            }
            
            return false;  // –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–≤–µ—Ä–Ω—É—Ç—å
        }

        // === –ë–´–°–¢–†–´–ô –°–ë–†–û–° –§–ò–ì–£–†–´ ===
        function dropPiece() {
            if (!gameRunning || isPaused || !currentPiece) return;
            
            // –î–≤–∏–≥–∞–µ–º —Ñ–∏–≥—É—Ä—É –≤–Ω–∏–∑ –¥–æ —É–ø–æ—Ä–∞
            let dropped = 0;
            while (movePiece(0, 1)) {
                dropped++;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –±–æ–Ω—É—Å–Ω—ã–µ –æ—á–∫–∏ –∑–∞ –±—ã—Å—Ç—Ä—ã–π —Å–±—Ä–æ—Å
            score += dropped * 2;
            
            console.log(`‚¨áÔ∏è –§–∏–≥—É—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞ –Ω–∞ ${dropped} –±–ª–æ–∫–æ–≤`);
            
            // –°—Ä–∞–∑—É —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ñ–∏–≥—É—Ä—É
            fixPiece();
        }

        // === –ü–ê–î–ï–ù–ò–ï –§–ò–ì–£–†–´ ===
        function dropPieceOneStep() {
            if (!gameRunning || isPaused || !currentPiece) return;
            
            // –ü—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∏–≥—É—Ä—É –≤–Ω–∏–∑
            if (!movePiece(0, 1)) {
                // –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–Ω–∏–∑, —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ñ–∏–≥—É—Ä—É
                fixPiece();
            }
        }

        // === –§–ò–ö–°–ê–¶–ò–Ø –§–ò–ì–£–†–´ –ù–ê –ü–û–õ–ï ===
        function fixPiece() {
            if (!currentPiece) return;
            
            const rotatedShape = getRotatedShape(currentPiece.shape, pieceRotation);
            
            // –†–∞–∑–º–µ—â–∞–µ–º –±–ª–æ–∫–∏ —Ñ–∏–≥—É—Ä—ã –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ
            for (const [blockX, blockY] of rotatedShape) {
                const x = pieceX + blockX;
                const y = pieceY + blockY;
                
                if (y >= 0 && x >= 0 && x < BOARD_WIDTH && y < BOARD_HEIGHT) {
                    gameBoard[y][x] = currentPiece.color;  // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ü–≤–µ—Ç –±–ª–æ–∫–∞
                }
            }
            
            console.log(`üîí –§–∏–≥—É—Ä–∞ ${currentPiece.name} –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞`);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —É–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–µ –ª–∏–Ω–∏–∏
            clearLines();
            
            // –°–ø–∞–≤–Ω–∏–º –Ω–æ–≤—É—é —Ñ–∏–≥—É—Ä—É
            spawnNewPiece();
        }

        // === –ü–†–û–í–ï–†–ö–ê –ò –£–î–ê–õ–ï–ù–ò–ï –ü–û–õ–ù–´–• –õ–ò–ù–ò–ô ===
        function clearLines() {
            let linesRemoved = 0;
            const linesToRemove = [];
            
            // –ò—â–µ–º –ø–æ–ª–Ω—ã–µ –ª–∏–Ω–∏–∏ (—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)
            for (let y = BOARD_HEIGHT - 1; y >= 0; y--) {
                let isLineFull = true;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –±–ª–æ–∫–∏ –≤ –ª–∏–Ω–∏–∏
                for (let x = 0; x < BOARD_WIDTH; x++) {
                    if (gameBoard[y][x] === 0) {
                        isLineFull = false;
                        break;
                    }
                }
                
                if (isLineFull) {
                    linesToRemove.push(y);
                    console.log(`üìè –ü–æ–ª–Ω–∞—è –ª–∏–Ω–∏—è –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ ${y}`);
                }
            }
            
            // –£–¥–∞–ª—è–µ–º –ø–æ–ª–Ω—ã–µ –ª–∏–Ω–∏–∏
            for (const lineY of linesToRemove) {
                // –£–¥–∞–ª—è–µ–º –ª–∏–Ω–∏—é
                gameBoard.splice(lineY, 1);
                // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—É—é –ª–∏–Ω–∏—é –≤ –Ω–∞—á–∞–ª–æ
                const emptyLine = new Array(BOARD_WIDTH).fill(0);
                gameBoard.unshift(emptyLine);
                
                linesRemoved++;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –µ—Å–ª–∏ –ª–∏–Ω–∏–∏ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã
            if (linesRemoved > 0) {
                linesCleared += linesRemoved;
                
                // –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤ (–±–æ–ª—å—à–µ –ª–∏–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ = –±–æ–ª—å—à–µ –±–æ–Ω—É—Å)
                const lineScores = [0, 40, 100, 300, 1200];  // –æ—á–∫–∏ –∑–∞ 0, 1, 2, 3, 4 –ª–∏–Ω–∏–∏
                const baseScore = lineScores[Math.min(linesRemoved, 4)];
                const levelBonus = baseScore * level;
                score += levelBonus;
                
                console.log(`üéâ –£–±—Ä–∞–Ω–æ –ª–∏–Ω–∏–π: ${linesRemoved}, –ø–æ–ª—É—á–µ–Ω–æ –æ—á–∫–æ–≤: ${levelBonus}`);
                
                // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –ª–∏–Ω–∏–π
                createLinesClearEffect(linesToRemove);
                
                // –ü–æ–≤—ã—à–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –∫–∞–∂–¥—ã–µ 10 –ª–∏–Ω–∏–π
                const newLevel = Math.floor(linesCleared / 10) + 1;
                if (newLevel > level) {
                    level = newLevel;
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∏–≥—Ä—ã
                    dropSpeed = Math.max(50, 800 - (level - 1) * 50);
                    
                    // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Å –Ω–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
                    if (gameLoop) {
                        clearInterval(gameLoop);
                        gameLoop = setInterval(dropPieceOneStep, dropSpeed);
                    }
                    
                    console.log(`‚¨ÜÔ∏è –£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—à–µ–Ω –¥–æ ${level}, –Ω–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: ${dropSpeed}–º—Å`);
                    showMessage(`üéä –£—Ä–æ–≤–µ–Ω—å ${level}!\n–°–∫–æ—Ä–æ—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∞!`, 2000);
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateUI();
        }

        // === –≠–§–§–ï–ö–¢ –ò–°–ß–ï–ó–ù–û–í–ï–ù–ò–Ø –õ–ò–ù–ò–ô ===
        function createLinesClearEffect(lines) {
            // –í—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∏—Å—á–µ–∑–∞—é—â–∏–µ –ª–∏–Ω–∏–∏
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            
            for (const lineY of lines) {
                // –†–∏—Å—É–µ–º –±–µ–ª—É—é –ø–æ–ª–æ—Å—É –ø–æ–≤–µ—Ä—Ö –ª–∏–Ω–∏–∏
                ctx.fillRect(
                    0, 
                    lineY * BLOCK_SIZE, 
                    BOARD_WIDTH * BLOCK_SIZE, 
                    BLOCK_SIZE
                );
            }
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
            setTimeout(() => {
                draw();
            }, 200);
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –ò–ì–†–´ ===
        function draw() {
            // –û—á–∏—â–∞–µ–º —Ö–æ–ª—Å—Ç
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // –†–∏—Å—É–µ–º —Å–µ—Ç–∫—É
            drawGrid();
            
            // –†–∏—Å—É–µ–º –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏
            drawBoard();
            
            // –†–∏—Å—É–µ–º —Ç–µ–∫—É—â—É—é –ø–∞–¥–∞—é—â—É—é —Ñ–∏–≥—É—Ä—É
            if (currentPiece) {
                drawPiece(currentPiece, pieceX, pieceY, pieceRotation);
            }
            
            // –†–∏—Å—É–µ–º —Ç–µ–Ω—å —Ñ–∏–≥—É—Ä—ã (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–¥–µ –æ–Ω–∞ —É–ø–∞–¥–µ—Ç)
            if (currentPiece && !isPaused) {
                drawGhost();
            }
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –°–ï–¢–ö–ò ===
        function drawGrid() {
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';  // –æ—á–µ–Ω—å —Å–ª–∞–±—ã–µ –±–µ–ª—ã–µ –ª–∏–Ω–∏–∏
            ctx.lineWidth = 1;
            
            // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
            for (let x = 0; x <= BOARD_WIDTH; x++) {
                ctx.beginPath();
                ctx.moveTo(x * BLOCK_SIZE, 0);
                ctx.lineTo(x * BLOCK_SIZE, BOARD_HEIGHT * BLOCK_SIZE);
                ctx.stroke();
            }
            
            // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
            for (let y = 0; y <= BOARD_HEIGHT; y++) {
                ctx.beginPath();
                ctx.moveTo(0, y * BLOCK_SIZE);
                ctx.lineTo(BOARD_WIDTH * BLOCK_SIZE, y * BLOCK_SIZE);
                ctx.stroke();
            }
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –ò–ì–†–û–í–û–ì–û –ü–û–õ–Ø ===
        function drawBoard() {
            for (let y = 0; y < BOARD_HEIGHT; y++) {
                for (let x = 0; x < BOARD_WIDTH; x++) {
                    if (gameBoard[y][x] !== 0) {
                        drawBlock(x, y, gameBoard[y][x]);
                    }
                }
            }
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –§–ò–ì–£–†–´ ===
        function drawPiece(piece, x, y, rotation) {
            const rotatedShape = getRotatedShape(piece.shape, rotation);
            
            for (const [blockX, blockY] of rotatedShape) {
                const drawX = x + blockX;
                const drawY = y + blockY;
                
                // –†–∏—Å—É–µ–º —Ç–æ–ª—å–∫–æ –±–ª–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
                if (drawX >= 0 && drawX < BOARD_WIDTH && drawY >= 0 && drawY < BOARD_HEIGHT) {
                    drawBlock(drawX, drawY, piece.color);
                }
            }
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –¢–ï–ù–ò –§–ò–ì–£–†–´ ===
        function drawGhost() {
            if (!currentPiece) return;
            
            // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—É—é –Ω–∏–∂–Ω—é—é –ø–æ–∑–∏—Ü–∏—é –¥–ª—è —Ç–µ–∫—É—â–µ–π —Ñ–∏–≥—É—Ä—ã
            let ghostY = pieceY;
            while (isValidPosition(currentPiece, pieceX, ghostY + 1, pieceRotation)) {
                ghostY++;
            }
            
            // –†–∏—Å—É–µ–º —Ç–µ–Ω—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
            if (ghostY !== pieceY) {
                const rotatedShape = getRotatedShape(currentPiece.shape, pieceRotation);
                
                ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';  // –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π
                
                for (const [blockX, blockY] of rotatedShape) {
                    const drawX = pieceX + blockX;
                    const drawY = ghostY + blockY;
                    
                    if (drawX >= 0 && drawX < BOARD_WIDTH && drawY >= 0 && drawY < BOARD_HEIGHT) {
                        ctx.fillRect(
                            drawX * BLOCK_SIZE + 1,
                            drawY * BLOCK_SIZE + 1,
                            BLOCK_SIZE - 2,
                            BLOCK_SIZE - 2
                        );
                    }
                }
            }
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –û–î–ù–û–ì–û –ë–õ–û–ö–ê ===
        function drawBlock(x, y, color) {
            // –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫
            ctx.fillStyle = color;
            ctx.fillRect(
                x * BLOCK_SIZE + 1,
                y * BLOCK_SIZE + 1,
                BLOCK_SIZE - 2,
                BLOCK_SIZE - 2
            );
            
            // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –æ–±—ä–µ–º–∞ (—Å–≤–µ—Ç–ª–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.fillRect(
                x * BLOCK_SIZE + 1,
                y * BLOCK_SIZE + 1,
                BLOCK_SIZE - 2,
                3
            );
            ctx.fillRect(
                x * BLOCK_SIZE + 1,
                y * BLOCK_SIZE + 1,
                3,
                BLOCK_SIZE - 2
            );
            
            // –¢–µ–º–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞
            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            ctx.fillRect(
                x * BLOCK_SIZE + BLOCK_SIZE - 4,
                y * BLOCK_SIZE + 1,
                3,
                BLOCK_SIZE - 2
            );
            ctx.fillRect(
                x * BLOCK_SIZE + 1,
                y * BLOCK_SIZE + BLOCK_SIZE - 4,
                BLOCK_SIZE - 2,
                3
            );
        }

        // === –û–¢–†–ò–°–û–í–ö–ê –°–õ–ï–î–£–Æ–©–ï–ô –§–ò–ì–£–†–´ ===
        function drawNextPiece() {
            if (!nextPiece) return;
            
            // –û—á–∏—â–∞–µ–º —Ö–æ–ª—Å—Ç –ø—Ä–µ–≤—å—é
            nextCtx.fillStyle = '#000';
            nextCtx.fillRect(0, 0, nextCanvas.width, nextCanvas.height);
            
            // –ù–∞—Ö–æ–¥–∏–º —Ä–∞–∑–º–µ—Ä—ã —Ñ–∏–≥—É—Ä—ã –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
            const shape = nextPiece.shape;
            let minX = Math.min(...shape.map(([x, y]) => x));
            let maxX = Math.max(...shape.map(([x, y]) => x));
            let minY = Math.min(...shape.map(([x, y]) => y));
            let maxY = Math.max(...shape.map(([x, y]) => y));
            
            const pieceWidth = maxX - minX + 1;
            const pieceHeight = maxY - minY + 1;
            
            // –†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –¥–ª—è –ø—Ä–µ–≤—å—é (–º–µ–Ω—å—à–µ —á–µ–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–µ)
            const previewBlockSize = 15;
            
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ñ–∏–≥—É—Ä—É –≤ –ø—Ä–µ–≤—å—é
            const offsetX = (nextCanvas.width - pieceWidth * previewBlockSize) / 2;
            const offsetY = (nextCanvas.height - pieceHeight * previewBlockSize) / 2;
            
            // –†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É
            nextCtx.fillStyle = nextPiece.color;
            
            for (const [blockX, blockY] of shape) {
                const drawX = offsetX + (blockX - minX) * previewBlockSize;
                const drawY = offsetY + (blockY - minY) * previewBlockSize;
                
                nextCtx.fillRect(drawX, drawY, previewBlockSize - 1, previewBlockSize - 1);
            }
        }

        // === –û–°–ù–û–í–ù–û–ô –ò–ì–†–û–í–û–ô –¶–ò–ö–õ ===
        function gameStep() {
            dropPieceOneStep();
            draw();
        }

        // === –°–¢–ê–†–¢ –ò–ì–†–´ ===
        function startGame() {
            if (gameRunning) return;
            
            console.log('üéÆ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –¢–µ—Ç—Ä–∏—Å...');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            initBoard();
            score = 0;
            linesCleared = 0;
            level = 1;
            dropSpeed = 800;
            gameRunning = true;
            isPaused = false;
            
            // –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤—É—é —Ñ–∏–≥—É—Ä—É
            currentPiece = null;
            nextPiece = null;
            
            if (!spawnNewPiece()) {
                return; // –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–≥—É—Ä—É
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            gameLoop = setInterval(gameStep, dropSpeed);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateUI();
            draw();
            
            console.log('‚úÖ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞!');
        }

        // === –ü–ê–£–ó–ê/–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï –ò–ì–†–´ ===
        function togglePause() {
            if (!gameRunning) {
                startGame();
                return;
            }
            
            isPaused = !isPaused;
            
            if (isPaused) {
                if (gameLoop) clearInterval(gameLoop);
                pauseIndicator.style.display = 'block';
                console.log('‚è∏Ô∏è –ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞');
            } else {
                gameLoop = setInterval(gameStep, dropSpeed);
                pauseIndicator.style.display = 'none';
                console.log('‚ñ∂Ô∏è –ò–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∞');
            }
        }

        // === –ü–ï–†–ï–ó–ê–ü–£–°–ö –ò–ì–†–´ ===
        function restartGame() {
            if (gameLoop) clearInterval(gameLoop);
            
            gameRunning = false;
            isPaused = false;
            pauseIndicator.style.display = 'none';
            
            console.log('üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã...');
            
            startGame();
        }

        // === –û–ö–û–ù–ß–ê–ù–ò–ï –ò–ì–†–´ ===
        function gameOver() {
            gameRunning = false;
            isPaused = false;
            
            if (gameLoop) clearInterval(gameLoop);
            pauseIndicator.style.display = 'none';
            
            console.log(`üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—á–µ—Ç: ${score}`);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('tetrisHighScore', highScore.toString());
                recordElement.textContent = highScore;
                
                showMessage(
                    `üéâ –ù–û–í–´–ô –†–ï–ö–û–†–î!\n\n` +
                    `üèÜ –û—á–∫–∏: ${score}\n` +
                    `üìè –õ–∏–Ω–∏–∏: ${linesCleared}\n` +
                    `üì∂ –£—Ä–æ–≤–µ–Ω—å: ${level}\n\n` +
                    `üîÑ –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?`,
                    6000
                );
            } else {
                showMessage(
                    `üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!\n\n` +
                    `üèÜ –û—á–∫–∏: ${score}\n` +
                    `üìè –õ–∏–Ω–∏–∏: ${linesCleared}\n` +
                    `üì∂ –£—Ä–æ–≤–µ–Ω—å: ${level}\n\n` +
                    `ü•á –†–µ–∫–æ—Ä–¥: ${highScore}\n\n` +
                    `üîÑ –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?`,
                    6000
                );
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –æ –Ω–æ–≤–æ–π –∏–≥—Ä–µ
            setTimeout(() => {
                if (confirm('üîÑ –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?')) {
                    restartGame();
                }
            }, 6000);
        }

        // === –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ===
        function updateUI() {
            scoreElement.textContent = score;
            linesElement.textContent = linesCleared;
            levelElement.textContent = level;
        }

        // === –ü–û–ö–ê–ó –°–û–û–ë–©–ï–ù–ò–ô ===
        function showMessage(text, duration = 3000) {
            const existingMessage = document.querySelector('.message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const message = document.createElement('div');
            message.className = 'message';
            message.textContent = text;
            
            document.body.appendChild(message);
            
            setTimeout(() => {
                if (message.parentNode) {
                    message.remove();
                }
            }, duration);
        }

        // === –ü–û–ö–ê–ó –ü–†–ê–í–ò–õ ===
        function showInstructions() {
            showMessage(
                `üß© –ü–†–ê–í–ò–õ–ê –¢–ï–¢–†–ò–°–ê:\n\n` +
                `üéØ –¶–µ–ª—å: –∑–∞–ø–æ–ª–Ω—è–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –±–ª–æ–∫–∞–º–∏\n\n` +
                `üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:\n` +
                `‚Ä¢ ‚Üê‚Üí –∏–ª–∏ A/D - –¥–≤–∏–≥–∞–π —Ñ–∏–≥—É—Ä—É\n` +
                `‚Ä¢ ‚Üì –∏–ª–∏ S - —É—Å–∫–æ—Ä—è–π –ø–∞–¥–µ–Ω–∏–µ\n` +
                `‚Ä¢ ‚Üë –∏–ª–∏ X - –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–π —Ñ–∏–≥—É—Ä—É\n` +
                `‚Ä¢ –ü—Ä–æ–±–µ–ª - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å–±—Ä–æ—Å\n\n` +
                `üí° –°—Ç—Ä–∞—Ç–µ–≥–∏—è:\n` +
                `‚Ä¢ –ù–µ –æ—Å—Ç–∞–≤–ª—è–π –ø—É—Å—Ç–æ—Ç –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏\n` +
                `‚Ä¢ –£–±–∏—Ä–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏–Ω–∏–π —Å—Ä–∞–∑—É = –±–æ–ª—å—à–µ –æ—á–∫–æ–≤\n` +
                `‚Ä¢ –°–ª–µ–¥–∏ –∑–∞ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∏–≥—É—Ä–æ–π\n\n` +
                `‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –ª–∏–Ω–∏–π!`,
                8000
            );
        }

        // === –û–ë–†–ê–ë–û–¢–ö–ê –ö–õ–ê–í–ò–® ===
        document.addEventListener('keydown', (event) => {
            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Space'].includes(event.code)) {
                event.preventDefault();
            }
            
            switch (event.code) {
                case 'ArrowLeft':
                case 'KeyA':
                    movePiece(-1, 0);
                    break;
                case 'ArrowRight':
                case 'KeyD':
                    movePiece(1, 0);
                    break;
                case 'ArrowDown':
                case 'KeyS':
                    movePiece(0, 1);
                    break;
                case 'ArrowUp':
                case 'KeyX':
                    rotatePiece();
                    break;
                case 'Space':
                    dropPiece();
                    break;
                case 'KeyP':
                    togglePause();
                    break;
                case 'KeyR':
                    if (confirm('üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É?')) {
                        restartGame();
                    }
                    break;
            }
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
            if (gameRunning) {
                draw();
            }
        });

        // === –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ CANVAS ===
        function resizeCanvas() {
            if (window.innerWidth <= 768) {
                // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä
                canvas.width = 300;
                canvas.height = 600;
                canvas.style.width = '300px';
                canvas.style.height = '600px';
            } else {
                // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                canvas.width = 300;
                canvas.height = 600;
                canvas.style.width = '300px';
                canvas.style.height = '600px';
            }
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
            if (gameRunning) {
                draw();
            }
        }

        window.addEventListener('resize', resizeCanvas);

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        window.addEventListener('load', () => {
            console.log('üéÆ –ú–∏–Ω–∏ –¢–µ—Ç—Ä–∏—Å –∑–∞–≥—Ä—É–∂–µ–Ω!');
            console.log('üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç—Ä–µ–ª–∫–∏/WASD, X –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞, –ø—Ä–æ–±–µ–ª –¥–ª—è —Å–±—Ä–æ—Å–∞');
            console.log('üîß –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏!');
            
            resizeCanvas();
            initBoard();
            updateUI();
            draw();
            
            setTimeout(() => {
                showMessage(
                    `üß© –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–∏–Ω–∏ –¢–µ—Ç—Ä–∏—Å!\n\n` +
                    `üéØ –¶–µ–ª—å: –∑–∞–ø–æ–ª–Ω—è–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏\n` +
                    `üß± –£–ø—Ä–∞–≤–ª—è–π –ø–∞–¥–∞—é—â–∏–º–∏ —Ñ–∏–≥—É—Ä–∞–º–∏\n` +
                    `‚ö° –ß–µ–º –≤—ã—à–µ —É—Ä–æ–≤–µ–Ω—å, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –∏–≥—Ä–∞\n\n` +
                    `üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:\n` +
                    `‚Ä¢ –°—Ç—Ä–µ–ª–∫–∏ –∏–ª–∏ WASD - –¥–≤–∏–∂–µ–Ω–∏–µ\n` +
                    `‚Ä¢ X –∏–ª–∏ ‚Üë - –ø–æ–≤–æ—Ä–æ—Ç —Ñ–∏–≥—É—Ä—ã\n` +
                    `‚Ä¢ –ü—Ä–æ–±–µ–ª - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å–±—Ä–æ—Å\n` +
                    `‚Ä¢ P - –ø–∞—É–∑–∞\n\n` +
                    `üöÄ –ù–∞–∂–º–∏ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!`,
                    8000
                );
            }, 1000);
        });

        // === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –û–¢–õ–ê–î–ö–ò ===
        
        // –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É—Ä–æ–≤–Ω—è (–¥–ª—è –∫–æ–Ω—Å–æ–ª–∏)
        function setLevel(newLevel) {
            if (newLevel >= 1 && newLevel <= 20) {
                level = newLevel;
                dropSpeed = Math.max(50, 800 - (level - 1) * 50);
                
                if (gameLoop && gameRunning && !isPaused) {
                    clearInterval(gameLoop);
                    gameLoop = setInterval(gameStep, dropSpeed);
                }
                
                updateUI();
                console.log(`üì∂ –£—Ä–æ–≤–µ–Ω—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${level}, —Å–∫–æ—Ä–æ—Å—Ç—å: ${dropSpeed}–º—Å`);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—á–∫–æ–≤ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
        function addScore(points) {
            score += points;
            updateUI();
            console.log(`üèÜ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—á–∫–æ–≤: ${points}, –≤—Å–µ–≥–æ: ${score}`);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –ø–æ–ª—è (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
        function clearBoard() {
            initBoard();
            draw();
            console.log('üßπ –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –æ—á–∏—â–µ–Ω–æ');
        }
        
        // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
        window.setLevel = setLevel;
        window.addScore = addScore;
        window.clearBoard = clearBoard;
    </script>
</body>
</html>
